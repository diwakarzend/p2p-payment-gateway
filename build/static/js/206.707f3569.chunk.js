"use strict";(self.webpackChunkp2p_tailwind=self.webpackChunkp2p_tailwind||[]).push([[206],{1005:function(e,t,n){n.d(t,{r:function(){return r}});var r=function e(t){for(var n="",r=0,a=[{value:1e7,str:"Crore"},{value:1e5,str:"Lakh"},{value:1e3,str:"Thousand"},{value:100,str:"Hundred"},{value:90,str:"Ninety"},{value:80,str:"Eighty"},{value:70,str:"Seventy"},{value:60,str:"Sixty"},{value:50,str:"Fifty"},{value:40,str:"Forty"},{value:30,str:"Thirty"},{value:20,str:"Twenty"},{value:19,str:"Nineteen"},{value:18,str:"Eighteen"},{value:17,str:"Seventeen"},{value:16,str:"Sixteen"},{value:15,str:"Fifteen"},{value:14,str:"Fourteen"},{value:13,str:"Thirteen"},{value:12,str:"Twelve"},{value:11,str:"Eleven"},{value:10,str:"Ten"},{value:9,str:"Nine"},{value:8,str:"Eight"},{value:7,str:"Seven"},{value:6,str:"Six"},{value:5,str:"Five"},{value:4,str:"Four"},{value:3,str:"Three"},{value:2,str:"Two"},{value:1,str:"One"}];r<a.length;r++){var o=a[r];if(t>=o.value){if(!(t<=99)){var i=Math.floor(t/o.value),s=t%o.value;return s>0?e(i)+" "+o.str+" "+e(s):e(i)+" "+o.str}n+=o.str,(t-=o.value)>0&&(n+=" ")}}return n}},8200:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(8152),a=n(2791),o=n(9434),i=n(6871),s=n(2702),u=(n(8029),n(4218)),l=(n(8406),n(184));var c=n(1005);n.p,n.p,n.p,n.p,n.p,n.p,n.p;var d,p=n(168),v=n(6031),f=n(2543),h=v.ZP.div(d||(d=(0,p.Z)(["\n  .paymentType-page {\n    .content {\n      background: url(",') no-repeat center calc(100% + 10px);\n    }\n  }\n  .scan-outer {\n    &:before {\n      content: "";\n      width: 36px;\n      height: 36px;\n      border-top: 1px solid #009fe3;\n      border-left: 1px solid #009fe3;\n      position: absolute;\n      top: 0;\n      left: 0;\n    }\n    &:after {\n      content: "";\n      width: 36px;\n      height: 36px;\n      border-top: 1px solid #009fe3;\n      border-right: 1px solid #009fe3;\n      position: absolute;\n      top: 0;\n      right: 0;\n    }\n    .scan-inner {\n      img {\n        max-width: 90%;\n      }\n      &:before {\n        content: "";\n        width: 36px;\n        height: 36px;\n        border-bottom: 1px solid #009fe3;\n        border-left: 1px solid #009fe3;\n        position: absolute;\n        bottom: 0;\n        left: 0;\n      }\n      &:after {\n        content: "";\n        width: 36px;\n        height: 36px;\n        border-bottom: 1px solid #009fe3;\n        border-right: 1px solid #009fe3;\n        position: absolute;\n        bottom: 0;\n        right: 0;\n      }\n    }\n  }\n  .pic {\n    max-width: calc(100% - 20px);\n    overflow: hidden;\n    border-radius: 25px;\n    top: 14px;\n  }\n  @media all and (max-width: 768px) {\n    .text-payment {\n      font-size: 2.8vw;\n      line-height: 3vw;\n    }\n  }\n'])),f);function _(e){var t=e.amount,n=void 0===t?1:t,s=e.orderId,c=void 0===s?"ORDER19239393":s,d=(0,o.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.payment)||void 0===t?void 0:t.amount})),p=(0,o.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.vendorDetails)||void 0===t?void 0:t.data})),v=(0,i.s0)(),f=(0,a.useState)(null),h=(0,r.Z)(f,2),_=h[0],m=h[1];console.log("vendorDetails = ",p,d);var g=function(){(0,u.Iq)(c).then((function(e){var t,n;"true"===(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.verified)&&v("/payment-success")}))},x=function(){c&&n>0&&null!==p&&void 0!==p&&p.id&&(0,u.hT)(n,c,null===p||void 0===p?void 0:p.id).then((function(e){var t,n,r,a,o,i;(console.log("getDynamicQRCodeRequest = ",null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code),null!==e&&void 0!==e&&null!==(r=e.data)&&void 0!==r&&null!==(a=r.data)&&void 0!==a&&a.code)&&m("data:image/png;base64,"+(null===e||void 0===e||null===(o=e.data)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.code))}))};return(0,a.useEffect)((function(){g();var e=setInterval((function(){return g()}),1e4);return function(){clearInterval(e)}}),[]),(0,a.useEffect)((function(){x()}),[c,n]),(0,a.useEffect)((function(){d<=0&&v("/payment-error")}),[d]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"relative",children:(0,l.jsxs)("div",{className:"group-wrap",children:[(0,l.jsx)("div",{className:"py-5 mb-5 px-8 flex justify-center items-center",children:(0,l.jsx)("button",{onClick:function(){return x()},className:"btn btn-primary bg-red rounded-lg text-white py-3 px-4 text-15 h-[50px] font-semibold",children:"CHANGE QR CODE"})}),(0,l.jsx)("div",{className:"scan-outer relative max-w-[300px] w-full mx-auto my-20 h-[300px] overflow-hidden",children:(0,l.jsx)("div",{className:"scan-inner relative w-full h-full flex items-center justify-center",children:(0,l.jsx)("img",{src:_,alt:"Scanner"})})})]})})})}function m(){var e=(0,o.v9)((function(e){return null===e||void 0===e?void 0:e.payment})),t=(0,o.v9)((function(e){return e}));console.log("state = ",t);(0,o.v9)((function(e){var t,n;return(null===e||void 0===e||null===(t=e.vendorDetails)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.brandName)||""}));var n=(0,a.useState)("tab1"),u=(0,r.Z)(n,2),d=u[0],p=u[1],v=(0,i.s0)();return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(h,{className:"overflow-y-auto relative w-full inset-0 h-modal justify-center flex py-20 px-8 md:px-20",children:(0,l.jsxs)("div",{className:"paymentType-page relative w-full max-w-[1200px] bg-white rounded-lg drop-shadow-2xl flex flex-wrap",children:[(0,l.jsxs)("aside",{className:"left w-full lg:max-w-[235px] border-r border-grey/10",children:[(0,l.jsx)("h3",{class:"text-20  font-semibold mb-10 px-12 pt-10",children:"Payment Option"}),(0,l.jsx)("ul",{className:"nav",children:(0,l.jsx)("li",{className:"tab1"===d?"active px-12 cursor-pointer  font-semibold text-15 bg-bodyBg py-5 lg:border-r-8 lg:border-blue":"px-12 py-5 cursor-pointer text-grey/80 text-15 border-r-8 border-grey/0",onClick:function(){p("tab1")},children:"Scan Dynamic QR"})})]}),(0,l.jsxs)("div",{className:"content w-full lg:max-w-[573px] px-12 pt-10 pb-5",children:[(0,l.jsxs)("div",{className:"flex mb-4 justify-between items-center",children:[(0,l.jsxs)("div",{className:"left",children:[(0,l.jsxs)("div",{className:"title text-20  font-semibold",children:["\u20b9"," ",null!==e&&void 0!==e&&e.totalAmount?parseInt(null===e||void 0===e?void 0:e.totalAmount).toFixed(2):"-"]}),(0,l.jsx)("div",{className:"text text-10 ",children:null!==e&&void 0!==e&&e.totalAmount?(0,c.r)(parseInt(null===e||void 0===e?void 0:e.totalAmount)):"-"})]}),(0,l.jsx)("div",{className:"right",children:(0,l.jsx)("div",{className:"timer text text-16 text-grey/80",children:(0,l.jsx)(s.ZP,{date:Date.now()+299666,renderer:function(e){e.hours;var t=e.minutes,n=e.seconds;if(!e.completed)return(0,l.jsxs)("span",{children:[t,":",n]});v("/payment-error")}})})})]}),(0,l.jsx)("div",{className:"innerContent",children:"tab1"===d&&(0,l.jsx)(_,{orderId:null===e||void 0===e?void 0:e.orderId})})]})]})})})}},4218:function(e,t,n){n.d(t,{hT:function(){return m},Iq:function(){return g},M0:function(){return _},Qb:function(){return h}});var r=n(5861),a=n(5671),o=n(3144),i=n(7757),s=n.n(i),u=n(4569),l=n.n(u),c=n(8406),d={LOGIN_URL:"/api/authenticateByHash",GET_VENDOR_DETAILS:"/api/ptp/vendor-details",VERIFY_UTR_ID:"/api/merchant/verifyUTR",PTP_BY_MERCHANT_ID:"/api/ptp/ptp-details",PTP_AUTH_BY_HASH:"/api/authenticateByHash",GET_DYNAMIC_QR_CODE:"api/qr/transaction",GET_DYNAMIC_QR_STATUS:"api/merchant/verifyOnlyByOrderId"},p="";p="https://service-api.digitpay.pro",console.log("apiBasePath11",p);var v=function(){function e(t,n,r){(0,a.Z)(this,e),this.successFn="function"===typeof n?n:function(){},this.errorFn="function"===typeof r?r:function(){},this.dispatch="function"===typeof t?t:function(){}}return(0,o.Z)(e,[{key:"instance",value:function(){var e={Authorization:(0,c.bW)(),"api-Authorization":(0,c.bW)("api-Authorization")},t=l().create({baseURL:"",headers:e});return t}},{key:"get",value:function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,a,o,i=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.prev=1,e.next=4,this.instance().get(p+t,n);case 4:return r=e.sent,a=r.data?r.data:null,o=r.headers?r.headers:null,this.successFn(a,o),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(1),e.t0&&e.t0.response&&401===e.t0.response.status&&console.log("no auth"),console.log("Error => ",e.t0),this.errorFn(e.t0);case 16:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,a,o,i,u=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},e.prev=1,e.next=4,this.instance().post(p+t,n);case 4:return r=e.sent,a=r.data,o=void 0===a?{}:a,i=r.status,this.successFn(o,i),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(1),e.t0&&e.t0.response&&"401"==e.t0.response.status&&(0,c.Kv)();case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,a,o,i,u=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},e.prev=1,e.next=4,this.instance().put(p+t,n);case 4:return r=e.sent,a=r.data,o=void 0===a?{}:a,i=r.status,this.successFn(o,i),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(1),e.t0&&e.t0.response&&"401"==e.t0.response.status&&console.log("error 401");case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,a,o,i,u=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},e.prev=1,e.next=4,this.instance().delete(p+t,n);case 4:return r=e.sent,a=r.data,o=void 0===a?{}:a,i=r.status,this.successFn(o,i),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),f=new v((function(){}),(function(){}),(function(){})),h=function(e){var t={hash:e.hash,amount:e.amount,clientId:e.clientId,apiKey:e.apiKey,orderId:e.orderId,URL:e.URL,RETURN_URL:e.RETURN_URL};return f.post(d.LOGIN_URL,t)},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f.get(d.GET_VENDOR_DETAILS,e)},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"14";return f.get("".concat(d.GET_DYNAMIC_QR_CODE,"/").concat(e,"/").concat(t,"/").concat(n),{})},g=function(e){return f.get("".concat(d.GET_DYNAMIC_QR_STATUS,"/").concat(e),{})}},8406:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{$8:function(){return isAuthenticated},Kv:function(){return userLogout},bW:function(){return getAuthToken},vl:function(){return getQueryParams}});var _usr_local_var_www_p2p_payment_gateway_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8152),axios__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4569),axios__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__),getStorage=function(e){return localStorage.getItem(e)},removeStorage=function(e){localStorage.removeItem(e)},setStorage=function(e,t){try{var n=JSON.stringify(t);localStorage.setItem(e,n)}catch(r){console.error("Err: Get Local Storage:",r)}};function getUser(){return getStorage("authToken")}function hasProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function isEmpty(e){var t=!1,n=typeof e;return t=(t=(t=(t=(t=(t=(t=t||!e)||"undefined"===n)||null===e)||"string"===n&&""===e.trim())||!1===e||0===e)||Array.isArray(e)&&0===e.length)||"object"===n&&0===Object.keys(e).length}var getSelectOptions=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",r=[];return isEmpty(e)||(Array.isArray(e)?e.forEach((function(e){var a=e[t],o=e[n];r.push({label:o,value:a})})):Object.keys(e).forEach((function(a){var o=e[a][t]||a,i=e[a][n]||e[a];r.push({label:i,value:o})}))),r},deepClone=function(e){return isEmpty(e)?null:JSON.parse(JSON.stringify(e))},getParams=function(e){var t={};return e.forEach((function(e){t[e.name]=e.value})),t},getOptionFromKey=function getOptionFromKey(key,textToReplace){if(isEmpty(key))return null;var _label=key.replace(eval("/"+textToReplace+"/g"),"");return _label=_label.split("_").join(" ").toLowerCase(),{value:key,label:_label}},setSelectedOptions=function(e,t){return t.filter((function(t){return t.value===e}))[0]},userLogout=function(){removeStorage("authToken"),removeStorage("loggedin")},paginator=function(e,t,n){var r=t||1,a=n||10,o=(r-1)*a,i=e.slice(o).slice(0,n),s=Math.ceil(e.length/a);return{page:r,per_page:a,pre_page:r-1?r-1:null,next_page:s>r?r+1:null,total:e.length,total_pages:s,data:i}};function currencyFormat(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return!Number.isFinite(Number(e))||null===e||isEmpty(e)?"\u20b90":new Intl.NumberFormat("en-IN",{currency:"INR",style:"currency",useGrouping:!0,minimumFractionDigits:t,maximumFractionDigits:n}).format(e)}function getQueryParams(e){for(var t=e.split("?")[1].split("&"),n={},r=0;r<t.length;r++){var a=t[r].split("="),o=(0,_usr_local_var_www_p2p_payment_gateway_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(a,2),i=o[0],s=o[1];n[i]=s||!0}return n}function saveAuthToken(e,t){sessionStorage.setItem(e,"Bearer ".concat(t)),setAuthorizationToken(t)}function getAuthToken(e){return e?sessionStorage.getItem(e):sessionStorage.getItem("Authorization")}function setAuthorizationToken(e){e?axios__WEBPACK_IMPORTED_MODULE_0___default().defaults.headers.common.token=e:delete axios__WEBPACK_IMPORTED_MODULE_0___default().defaults.headers.common.token}function isAuthenticated(e){return e&&e.data?!(!e.data.id_token||!e.data.api_token)&&(saveAuthToken("Authorization",e.data.id_token),saveAuthToken("api-Authorization",e.data.api_token),!0):!isEmpty(getAuthToken())||void 0}},2543:function(e,t,n){e.exports=n.p+"static/media/flower_bg.0e8d3e0ecc94f167a049.png"}}]);
//# sourceMappingURL=206.707f3569.chunk.js.map